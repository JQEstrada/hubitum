import{d as g,as as Kt,at as pa,a as Ce,r as V,au as Ca,w as ve,F as Vt,h as m,ap as Oe,e as ke,j as _e,V as ee,av as wa,aw as Ma,aj as qa,i as ka,f as bt,ax as Xt,o as Jt,G as _a,H as Gt,R as Sa,z as Ke,ab as ea,aq as Ta,P as ge,ay as ta,az as xa,aA as Dt,D as Yt,aB as Ha,al as Ia,am as La,Q as Ya,k as aa,m as Ue,n as $a,p as Pa,q as it,t as pt,x as Rt,A as Aa,y as Ct,aC as Ba,aD as Oa,I as Va,aE as Ra,aF as Fa,J as na,_ as ra,L as de,M as We,N as z,O as I,Y as Ve,S as ct,T as Ze,ad as ie,aG as Ea,U as oa,aH as st,K as ja,Z as wt,$ as Mt}from"./index.292b926d.js";import{u as vt,a as ft}from"./use-dark.877cff56.js";import{u as Na,a as Qa,b as Ua,c as za,Q as Wa}from"./QInput.31382fbf.js";import{p as O,Q as qt,c as Za}from"./QItem.ca64e6d9.js";import{Q as Ka,a as Xa,r as Ja,u as Ga,b as en}from"./habits.0d610b96.js";import{g as Ft,s as Et}from"./touch.9135741d.js";import{Q as tn}from"./QPage.0ef37144.js";function la(){let e=Object.create(null);return{getCache:(a,o)=>e[a]===void 0?e[a]=typeof o=="function"?o():o:e[a],setCache(a,o){e[a]=o},hasCache(a){return Object.hasOwnProperty.call(e,a)},clearCache(a){a!==void 0?delete e[a]:e=Object.create(null)}}}const qe=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function an(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),ln(Pt(e,a,o))}function jt(e,a,o){return sa(on(e,a,o))}function nn(e){return rn(e)===0}function dt(e,a){return a<=6?31:a<=11||nn(e)?30:29}function rn(e){const a=qe.length;let o=qe[0],l,u,r,c,s;if(e<o||e>=qe[a-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<a&&(l=qe[s],u=l-o,!(e<l));s+=1)o=l;return c=e-o,u-c<6&&(c=c-u+F(u+4,33)*33),r=oe(oe(c+1,33)-1,4),r===-1&&(r=4),r}function ia(e,a){const o=qe.length,l=e+621;let u=-14,r=qe[0],c,s,v,x,d;if(e<r||e>=qe[o-1])throw new Error("Invalid Jalaali year "+e);for(d=1;d<o&&(c=qe[d],s=c-r,!(e<c));d+=1)u=u+F(s,33)*8+F(oe(s,33),4),r=c;x=e-r,u=u+F(x,33)*8+F(oe(x,33)+3,4),oe(s,33)===4&&s-x===4&&(u+=1);const C=F(l,4)-F((F(l,100)+1)*3,4)-150,T=20+u-C;return a||(s-x<6&&(x=x-s+F(s+4,33)*33),v=oe(oe(x+1,33)-1,4),v===-1&&(v=4)),{leap:v,gy:l,march:T}}function on(e,a,o){const l=ia(e,!0);return Pt(l.gy,3,l.march)+(a-1)*31-F(a,7)*(a-7)+o-1}function ln(e){const a=sa(e).gy;let o=a-621,l,u,r;const c=ia(o,!1),s=Pt(a,3,c.march);if(r=e-s,r>=0){if(r<=185)return u=1+F(r,31),l=oe(r,31)+1,{jy:o,jm:u,jd:l};r-=186}else o-=1,r+=179,c.leap===1&&(r+=1);return u=7+F(r,30),l=oe(r,30)+1,{jy:o,jm:u,jd:l}}function Pt(e,a,o){let l=F((e+F(a-8,6)+100100)*1461,4)+F(153*oe(a+9,12)+2,5)+o-34840408;return l=l-F(F(e+100100+F(a-8,6),100)*3,4)+752,l}function sa(e){let a=4*e+139361631;a=a+F(F(4*e+183187720,146097)*3,4)*4-3908;const o=F(oe(a,1461),4)*5+308,l=F(oe(o,153),5)+1,u=oe(F(o,153),12)+1;return{gy:F(a,1461)-100100+F(8-u,6),gm:u,gd:l}}function F(e,a){return~~(e/a)}function oe(e,a){return e-~~(e/a)*a}const sn=["gregorian","persian"],Nt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>sn.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},un=["update:modelValue"];function we(e){return e.year+"/"+O(e.month)+"/"+O(e.day)}function cn(e,a){const o=g(()=>e.disable!==!0&&e.readonly!==!0),l=g(()=>o.value===!0?0:-1),u=g(()=>{const s=[];return e.color!==void 0&&s.push(`bg-${e.color}`),e.textColor!==void 0&&s.push(`text-${e.textColor}`),s.join(" ")});function r(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function c(s){const v=new Date,x=s===!0?null:0;if(e.calendar==="persian"){const d=an(v);return{year:d.jy,month:d.jm,day:d.jd}}return{year:v.getFullYear(),month:v.getMonth()+1,day:v.getDate(),hour:x,minute:x,second:x,millisecond:x}}return{editable:o,tabindex:l,headerClass:u,getLocale:r,getCurrentDate:c}}const ua=864e5,dn=36e5,$t=6e4,ca="YYYY-MM-DDTHH:mm:ss.SSSZ",vn=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,fn=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,kt={};function hn(e,a){const o="("+a.days.join("|")+")",l=e+o;if(kt[l]!==void 0)return kt[l];const u="("+a.daysShort.join("|")+")",r="("+a.months.join("|")+")",c="("+a.monthsShort.join("|")+")",s={};let v=0;const x=e.replace(fn,C=>{switch(v++,C){case"YY":return s.YY=v,"(-?\\d{1,2})";case"YYYY":return s.YYYY=v,"(-?\\d{1,4})";case"M":return s.M=v,"(\\d{1,2})";case"Mo":return s.M=v++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return s.M=v,"(\\d{2})";case"MMM":return s.MMM=v,c;case"MMMM":return s.MMMM=v,r;case"D":return s.D=v,"(\\d{1,2})";case"Do":return s.D=v++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=v,"(\\d{2})";case"H":return s.H=v,"(\\d{1,2})";case"HH":return s.H=v,"(\\d{2})";case"h":return s.h=v,"(\\d{1,2})";case"hh":return s.h=v,"(\\d{2})";case"m":return s.m=v,"(\\d{1,2})";case"mm":return s.m=v,"(\\d{2})";case"s":return s.s=v,"(\\d{1,2})";case"ss":return s.s=v,"(\\d{2})";case"S":return s.S=v,"(\\d{1})";case"SS":return s.S=v,"(\\d{2})";case"SSS":return s.S=v,"(\\d{3})";case"A":return s.A=v,"(AM|PM)";case"a":return s.a=v,"(am|pm)";case"aa":return s.aa=v,"(a\\.m\\.|p\\.m\\.)";case"ddd":return u;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"do":return v++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return v++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return v++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return s.Z=v,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=v,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=v,"(-?\\d+)";case"x":return s.x=v,"(-?\\d{4,})";default:return v--,C[0]==="["&&(C=C.substring(1,C.length-1)),C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),d={map:s,regex:new RegExp("^"+x)};return kt[l]=d,d}function da(e,a){return e!==void 0?e:a!==void 0?a.date:pa.date}function Qt(e,a=""){const o=e>0?"-":"+",l=Math.abs(e),u=Math.floor(l/60),r=l%60;return o+O(u)+a+O(r)}function mn(e,a,o,l,u){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(u!==void 0&&Object.assign(r,u),e==null||e===""||typeof e!="string")return r;a===void 0&&(a=ca);const c=da(o,Kt.props),s=c.months,v=c.monthsShort,{regex:x,map:d}=hn(a,c),C=e.match(x);if(C===null)return r;let T="";if(d.X!==void 0||d.x!==void 0){const L=parseInt(C[d.X!==void 0?d.X:d.x],10);if(isNaN(L)===!0||L<0)return r;const Y=new Date(L*(d.X!==void 0?1e3:1));r.year=Y.getFullYear(),r.month=Y.getMonth()+1,r.day=Y.getDate(),r.hour=Y.getHours(),r.minute=Y.getMinutes(),r.second=Y.getSeconds(),r.millisecond=Y.getMilliseconds()}else{if(d.YYYY!==void 0)r.year=parseInt(C[d.YYYY],10);else if(d.YY!==void 0){const L=parseInt(C[d.YY],10);r.year=L<0?L:2e3+L}if(d.M!==void 0){if(r.month=parseInt(C[d.M],10),r.month<1||r.month>12)return r}else d.MMM!==void 0?r.month=v.indexOf(C[d.MMM])+1:d.MMMM!==void 0&&(r.month=s.indexOf(C[d.MMMM])+1);if(d.D!==void 0){if(r.day=parseInt(C[d.D],10),r.year===null||r.month===null||r.day<1)return r;const L=l!=="persian"?new Date(r.year,r.month,0).getDate():dt(r.year,r.month);if(r.day>L)return r}d.H!==void 0?r.hour=parseInt(C[d.H],10)%24:d.h!==void 0&&(r.hour=parseInt(C[d.h],10)%12,(d.A&&C[d.A]==="PM"||d.a&&C[d.a]==="pm"||d.aa&&C[d.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),d.m!==void 0&&(r.minute=parseInt(C[d.m],10)%60),d.s!==void 0&&(r.second=parseInt(C[d.s],10)%60),d.S!==void 0&&(r.millisecond=parseInt(C[d.S],10)*10**(3-C[d.S].length)),(d.Z!==void 0||d.ZZ!==void 0)&&(T=d.Z!==void 0?C[d.Z].replace(":",""):C[d.ZZ],r.timezoneOffset=(T[0]==="+"?-1:1)*(60*T.slice(1,3)+1*T.slice(3,5)))}return r.dateHash=O(r.year,6)+"/"+O(r.month)+"/"+O(r.day),r.timeHash=O(r.hour)+":"+O(r.minute)+":"+O(r.second)+T,r}function _t(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const l=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-l);const u=(a-o)/(ua*7);return 1+Math.floor(u)}function pe(e,a,o){const l=new Date(e),u=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":l[`${u}Month`](0);case"month":case"months":l[`${u}Date`](1);case"day":case"days":case"date":l[`${u}Hours`](0);case"hour":case"hours":l[`${u}Minutes`](0);case"minute":case"minutes":l[`${u}Seconds`](0);case"second":case"seconds":l[`${u}Milliseconds`](0)}return l}function ut(e,a,o){return(e.getTime()-e.getTimezoneOffset()*$t-(a.getTime()-a.getTimezoneOffset()*$t))/o}function va(e,a,o="days"){const l=new Date(e),u=new Date(a);switch(o){case"years":case"year":return l.getFullYear()-u.getFullYear();case"months":case"month":return(l.getFullYear()-u.getFullYear())*12+l.getMonth()-u.getMonth();case"days":case"day":case"date":return ut(pe(l,"day"),pe(u,"day"),ua);case"hours":case"hour":return ut(pe(l,"hour"),pe(u,"hour"),dn);case"minutes":case"minute":return ut(pe(l,"minute"),pe(u,"minute"),$t);case"seconds":case"second":return ut(pe(l,"second"),pe(u,"second"),1e3)}}function St(e){return va(e,pe(e,"year"),"days")+1}function Ae(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Ut={YY(e,a,o){const l=this.YYYY(e,a,o)%100;return l>=0?O(l):"-"+O(Math.abs(l))},YYYY(e,a,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return Ae(e.getMonth()+1)},MM(e){return O(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Ae(this.Q(e))},D(e){return e.getDate()},Do(e){return Ae(e.getDate())},DD(e){return O(e.getDate())},DDD(e){return St(e)},DDDo(e){return Ae(St(e))},DDDD(e){return O(St(e),3)},d(e){return e.getDay()},do(e){return Ae(e.getDay())},dd(e,a){return a.days[e.getDay()].slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return _t(e)},wo(e){return Ae(_t(e))},ww(e){return O(_t(e))},H(e){return e.getHours()},HH(e){return O(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return O(this.h(e))},m(e){return e.getMinutes()},mm(e){return O(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return O(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return O(Math.floor(e.getMilliseconds()/10))},SSS(e){return O(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,a,o,l){const u=l==null?e.getTimezoneOffset():l;return Qt(u,":")},ZZ(e,a,o,l){const u=l==null?e.getTimezoneOffset():l;return Qt(u)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function gn(e,a,o,l,u){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;a===void 0&&(a=ca);const c=da(o,Kt.props);return a.replace(vn,(s,v)=>s in Ut?Ut[s](r,c,l,u):v===void 0?s:v.split("\\]").join("]"))}const Le=20,yn=["Calendar","Years","Months"],zt=e=>yn.includes(e),Tt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Be=" \u2014 ";function Me(e){return e.year+"/"+O(e.month)}var bn=Ce({name:"QDate",props:{...Nt,...Na,...vt,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Nt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Tt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Tt},navigationMaxYearMonth:{type:String,validator:Tt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:zt}},emits:[...un,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:l}=_e(),{$q:u}=l,r=ft(e,u),{getCache:c}=la(),{tabindex:s,headerClass:v,getLocale:x,getCurrentDate:d}=cn(e,u);let C;const T=Qa(e),L=Ua(T),Y=V(null),S=V(K()),H=V(x()),se=g(()=>K()),ye=g(()=>x()),w=g(()=>d()),b=V(Ye(S.value,H.value)),A=V(e.defaultView),N=g(()=>u.lang.rtl===!0?"right":"left"),W=V(N.value),Q=V(N.value),te=b.value.year,be=V(te-te%Le-(te<0?Le:0)),Z=V(null),Re=g(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),ue=g(()=>e.color||"primary"),M=g(()=>e.textColor||"white"),B=g(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),X=g(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),U=g(()=>X.value.filter(t=>typeof t=="string").map(t=>re(t,S.value,H.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),ce=g(()=>{const t=n=>re(n,S.value,H.value);return X.value.filter(n=>Ca(n)===!0&&n.from!==void 0&&n.to!==void 0).map(n=>({from:t(n.from),to:t(n.to)})).filter(n=>n.from.dateHash!==null&&n.to.dateHash!==null&&n.from.dateHash<n.to.dateHash)}),Se=g(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const n=jt(t.year,t.month,t.day);return new Date(n.gy,n.gm-1,n.gd)}),Fe=g(()=>e.calendar==="persian"?we:(t,n,i)=>gn(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),n===void 0?S.value:n,i===void 0?H.value:i,t.year,t.timezoneOffset)),le=g(()=>U.value.length+ce.value.reduce((t,n)=>t+1+va(Se.value(n.to),Se.value(n.from)),0)),De=g(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(Z.value!==null){const i=Z.value.init,h=Se.value(i);return H.value.daysShort[h.getDay()]+", "+H.value.monthsShort[i.month-1]+" "+i.day+Be+"?"}if(le.value===0)return Be;if(le.value>1)return`${le.value} ${H.value.pluralDay}`;const t=U.value[0],n=Se.value(t);return isNaN(n.valueOf())===!0?Be:H.value.headerTitle!==void 0?H.value.headerTitle(n,t):H.value.daysShort[n.getDay()]+", "+H.value.monthsShort[t.month-1]+" "+t.day}),Xe=g(()=>U.value.concat(ce.value.map(n=>n.from)).sort((n,i)=>n.year-i.year||n.month-i.month)[0]),Je=g(()=>U.value.concat(ce.value.map(n=>n.to)).sort((n,i)=>i.year-n.year||i.month-n.month)[0]),Ee=g(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(le.value===0)return Be;if(le.value>1){const t=Xe.value,n=Je.value,i=H.value.monthsShort;return i[t.month-1]+(t.year!==n.year?" "+t.year+Be+i[n.month-1]+" ":t.month!==n.month?Be+i[n.month-1]:"")+" "+n.year}return U.value[0].year}),ne=g(()=>{const t=[u.iconSet.datetime.arrowLeft,u.iconSet.datetime.arrowRight];return u.lang.rtl===!0?t.reverse():t}),Ge=g(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):H.value.firstDayOfWeek),ht=g(()=>{const t=H.value.daysShort,n=Ge.value;return n>0?t.slice(n,7).concat(t.slice(0,n)):t}),fe=g(()=>{const t=b.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():dt(t.year,t.month)}),et=g(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),J=g(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),G=g(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),je=g(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return J.value!==null&&J.value.year>=b.value.year&&(t.year.prev=!1,J.value.year===b.value.year&&J.value.month>=b.value.month&&(t.month.prev=!1)),G.value!==null&&G.value.year<=b.value.year&&(t.year.next=!1,G.value.year===b.value.year&&G.value.month<=b.value.month&&(t.month.next=!1)),t}),he=g(()=>{const t={};return U.value.forEach(n=>{const i=Me(n);t[i]===void 0&&(t[i]=[]),t[i].push(n.day)}),t}),Ne=g(()=>{const t={};return ce.value.forEach(n=>{const i=Me(n.from),h=Me(n.to);if(t[i]===void 0&&(t[i]=[]),t[i].push({from:n.from.day,to:i===h?n.to.day:void 0,range:n}),i<h){let y;const{year:_,month:D}=n.from,k=D<12?{year:_,month:D+1}:{year:_+1,month:1};for(;(y=Me(k))<=h;)t[y]===void 0&&(t[y]=[]),t[y].push({from:void 0,to:y===h?n.to.day:void 0,range:n}),k.month++,k.month>12&&(k.year++,k.month=1)}}),t}),Te=g(()=>{if(Z.value===null)return;const{init:t,initHash:n,final:i,finalHash:h}=Z.value,[y,_]=n<=h?[t,i]:[i,t],D=Me(y),k=Me(_);if(D!==ae.value&&k!==ae.value)return;const R={};return D===ae.value?(R.from=y.day,R.includeFrom=!0):R.from=1,k===ae.value?(R.to=_.day,R.includeTo=!0):R.to=fe.value,R}),ae=g(()=>Me(b.value)),tt=g(()=>{const t={};if(e.options===void 0){for(let i=1;i<=fe.value;i++)t[i]=!0;return t}const n=typeof e.options=="function"?e.options:i=>e.options.includes(i);for(let i=1;i<=fe.value;i++){const h=ae.value+"/"+O(i);t[i]=n(h)}return t}),at=g(()=>{const t={};if(e.events===void 0)for(let n=1;n<=fe.value;n++)t[n]=!1;else{const n=typeof e.events=="function"?e.events:i=>e.events.includes(i);for(let i=1;i<=fe.value;i++){const h=ae.value+"/"+O(i);t[i]=n(h)===!0&&et.value(h)}}return t}),nt=g(()=>{let t,n;const{year:i,month:h}=b.value;if(e.calendar!=="persian")t=new Date(i,h-1,1),n=new Date(i,h-1,0).getDate();else{const y=jt(i,h,1);t=new Date(y.gy,y.gm-1,y.gd);let _=h-1,D=i;_===0&&(_=12,D--),n=dt(D,_)}return{days:t.getDay()-Ge.value-1,endDay:n}}),xe=g(()=>{const t=[],{days:n,endDay:i}=nt.value,h=n<0?n+7:n;if(h<6)for(let D=i-h;D<=i;D++)t.push({i:D,fill:!0});const y=t.length;for(let D=1;D<=fe.value;D++){const k={i:D,event:at.value[D],classes:[]};tt.value[D]===!0&&(k.in=!0,k.flat=!0),t.push(k)}if(he.value[ae.value]!==void 0&&he.value[ae.value].forEach(D=>{const k=y+D-1;Object.assign(t[k],{selected:!0,unelevated:!0,flat:!1,color:ue.value,textColor:M.value})}),Ne.value[ae.value]!==void 0&&Ne.value[ae.value].forEach(D=>{if(D.from!==void 0){const k=y+D.from-1,R=y+(D.to||fe.value)-1;for(let Qe=k;Qe<=R;Qe++)Object.assign(t[Qe],{range:D.range,unelevated:!0,color:ue.value,textColor:M.value});Object.assign(t[k],{rangeFrom:!0,flat:!1}),D.to!==void 0&&Object.assign(t[R],{rangeTo:!0,flat:!1})}else if(D.to!==void 0){const k=y+D.to-1;for(let R=y;R<=k;R++)Object.assign(t[R],{range:D.range,unelevated:!0,color:ue.value,textColor:M.value});Object.assign(t[k],{flat:!1,rangeTo:!0})}else{const k=y+fe.value-1;for(let R=y;R<=k;R++)Object.assign(t[R],{range:D.range,unelevated:!0,color:ue.value,textColor:M.value})}}),Te.value!==void 0){const D=y+Te.value.from-1,k=y+Te.value.to-1;for(let R=D;R<=k;R++)t[R].color=ue.value,t[R].editRange=!0;Te.value.includeFrom===!0&&(t[D].editRangeFrom=!0),Te.value.includeTo===!0&&(t[k].editRangeTo=!0)}b.value.year===w.value.year&&b.value.month===w.value.month&&(t[y+w.value.day-1].today=!0);const _=t.length%7;if(_>0){const D=7-_;for(let k=1;k<=D;k++)t.push({i:k,fill:!0})}return t.forEach(D=>{let k="q-date__calendar-item ";D.fill===!0?k+="q-date__calendar-item--fill":(k+=`q-date__calendar-item--${D.in===!0?"in":"out"}`,D.range!==void 0&&(k+=` q-date__range${D.rangeTo===!0?"-to":D.rangeFrom===!0?"-from":""}`),D.editRange===!0&&(k+=` q-date__edit-range${D.editRangeFrom===!0?"-from":""}${D.editRangeTo===!0?"-to":""}`),(D.range!==void 0||D.editRange===!0)&&(k+=` text-${D.color}`)),D.classes=k}),t}),f=g(()=>e.disable===!0?{"aria-disabled":"true"}:{});ve(()=>e.modelValue,t=>{if(C===JSON.stringify(t))C=0;else{const n=Ye(S.value,H.value);$e(n.year,n.month,n)}}),ve(A,()=>{Y.value!==null&&l.$el.contains(document.activeElement)===!0&&Y.value.focus()}),ve(()=>b.value.year+"|"+b.value.month,()=>{o("navigation",{year:b.value.year,month:b.value.month})}),ve(se,t=>{Ot(t,H.value,"mask"),S.value=t}),ve(ye,t=>{Ot(S.value,t,"locale"),H.value=t});function p(t){C=JSON.stringify(t)}function q(){const{year:t,month:n,day:i}=w.value,h={...b.value,year:t,month:n,day:i},y=he.value[Me(h)];(y===void 0||y.includes(h.day)===!1)&&mt(h),P(h.year,h.month)}function E(t){zt(t)===!0&&(A.value=t)}function j(t,n){["month","year"].includes(t)&&(t==="month"?ot:He)(n===!0?-1:1)}function P(t,n){A.value="Calendar",$e(t,n)}function $(t,n){if(e.range===!1||!t){Z.value=null;return}const i=Object.assign({...b.value},t),h=n!==void 0?Object.assign({...b.value},n):i;Z.value={init:i,initHash:we(i),final:h,finalHash:we(h)},P(i.year,i.month)}function K(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function re(t,n,i){return mn(t,n,i,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Ye(t,n){const i=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(i.length===0)return rt();const h=i[i.length-1],y=re(h.from!==void 0?h.from:h,t,n);return y.dateHash===null?rt():y}function rt(){let t,n;if(e.defaultYearMonth!==void 0){const i=e.defaultYearMonth.split("/");t=parseInt(i[0],10),n=parseInt(i[1],10)}else{const i=w.value!==void 0?w.value:d();t=i.year,n=i.month}return{year:t,month:n,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+O(n)+"/01"}}function ot(t){let n=b.value.year,i=Number(b.value.month)+t;i===13?(i=1,n++):i===0&&(i=12,n--),$e(n,i),B.value===!0&&lt("month")}function He(t){const n=Number(b.value.year)+t;$e(n,b.value.month),B.value===!0&&lt("year")}function me(t){$e(t,b.value.month),A.value=e.defaultView==="Years"?"Months":"Calendar",B.value===!0&&lt("year")}function ha(t){$e(b.value.year,t),A.value="Calendar",B.value===!0&&lt("month")}function ma(t,n){const i=he.value[n];(i!==void 0&&i.includes(t.day)===!0?gt:mt)(t)}function Ie(t){return{year:t.year,month:t.month,day:t.day}}function $e(t,n,i){if(J.value!==null&&t<=J.value.year&&((n<J.value.month||t<J.value.year)&&(n=J.value.month),t=J.value.year),G.value!==null&&t>=G.value.year&&((n>G.value.month||t>G.value.year)&&(n=G.value.month),t=G.value.year),i!==void 0){const{hour:y,minute:_,second:D,millisecond:k,timezoneOffset:R,timeHash:Qe}=i;Object.assign(b.value,{hour:y,minute:_,second:D,millisecond:k,timezoneOffset:R,timeHash:Qe})}const h=t+"/"+O(n)+"/01";h!==b.value.dateHash&&(W.value=b.value.dateHash<h==(u.lang.rtl!==!0)?"left":"right",t!==b.value.year&&(Q.value=W.value),Vt(()=>{be.value=t-t%Le-(t<0?Le:0),Object.assign(b.value,{year:t,month:n,day:1,dateHash:h})}))}function At(t,n,i){const h=t!==null&&t.length===1&&e.multiple===!1?t[0]:t,{reason:y,details:_}=Bt(n,i);p(h),o("update:modelValue",h,y,_)}function lt(t){const n=U.value[0]!==void 0&&U.value[0].dateHash!==null?{...U.value[0]}:{...b.value};Vt(()=>{n.year=b.value.year,n.month=b.value.month;const i=e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():dt(n.year,n.month);n.day=Math.min(Math.max(1,n.day),i);const h=Pe(n),{details:y}=Bt("",n);p(h),o("update:modelValue",h,t,y)})}function Bt(t,n){return n.from!==void 0?{reason:`${t}-range`,details:{...Ie(n.target),from:Ie(n.from),to:Ie(n.to)}}:{reason:`${t}-day`,details:Ie(n)}}function Pe(t,n,i){return t.from!==void 0?{from:Fe.value(t.from,n,i),to:Fe.value(t.to,n,i)}:Fe.value(t,n,i)}function mt(t){let n;if(e.multiple===!0)if(t.from!==void 0){const i=we(t.from),h=we(t.to),y=U.value.filter(D=>D.dateHash<i||D.dateHash>h),_=ce.value.filter(({from:D,to:k})=>k.dateHash<i||D.dateHash>h);n=y.concat(_).concat(t).map(D=>Pe(D))}else{const i=X.value.slice();i.push(Pe(t)),n=i}else n=Pe(t);At(n,"add",t)}function gt(t){if(e.noUnset===!0)return;let n=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const i=Pe(t);t.from!==void 0?n=e.modelValue.filter(h=>h.from!==void 0?h.from!==i.from&&h.to!==i.to:!0):n=e.modelValue.filter(h=>h!==i),n.length===0&&(n=null)}At(n,"remove",t)}function Ot(t,n,i){const h=U.value.concat(ce.value).map(_=>Pe(_,t,n)).filter(_=>_.from!==void 0?_.from.dateHash!==null&&_.to.dateHash!==null:_.dateHash!==null),y=(e.multiple===!0?h:h[0])||null;p(y),o("update:modelValue",y,i)}function ga(){if(e.minimal!==!0)return m("div",{class:"q-date__header "+v.value},[m("div",{class:"relative-position"},[m(Oe,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+Ee.value,class:"q-date__header-subtitle q-date__header-link "+(A.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...c("vY",{onClick(){A.value="Years"},onKeyup(t){t.keyCode===13&&(A.value="Years")}})},[Ee.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m(Oe,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+De.value,class:"q-date__header-title-label q-date__header-link "+(A.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...c("vC",{onClick(){A.value="Calendar"},onKeyup(t){t.keyCode===13&&(A.value="Calendar")}})},[De.value]))]),e.todayBtn===!0?m(ee,{class:"q-date__header-today self-start",icon:u.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:s.value,onClick:q}):null])])}function yt({label:t,type:n,key:i,dir:h,goTo:y,boundaries:_,cls:D}){return[m("div",{class:"row items-center q-date__arrow"},[m(ee,{round:!0,dense:!0,size:"sm",flat:!0,icon:ne.value[0],tabindex:s.value,disable:_.prev===!1,...c("go-#"+n,{onClick(){y(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+D},[m(Oe,{name:"q-transition--jump-"+h},()=>m("div",{key:i},[m(ee,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:s.value,...c("view#"+n,{onClick:()=>{A.value=n}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(ee,{round:!0,dense:!0,size:"sm",flat:!0,icon:ne.value[1],tabindex:s.value,disable:_.next===!1,...c("go+#"+n,{onClick(){y(1)}})})])]}const ya={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},yt({label:H.value.months[b.value.month-1],type:"Months",key:b.value.month,dir:W.value,goTo:ot,boundaries:je.value.month,cls:" col"}).concat(yt({label:b.value.year,type:"Years",key:b.value.year,dir:Q.value,goTo:He,boundaries:je.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ht.value.map(t=>m("div",{class:"q-date__calendar-item"},[m("div",t)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m(Oe,{name:"q-transition--slide-"+W.value},()=>m("div",{key:ae.value,class:"q-date__calendar-days fit"},xe.value.map(t=>m("div",{class:t.classes},[t.in===!0?m(ee,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:s.value,...c("day#"+t.i,{onClick:()=>{ba(t.i)},onMouseover:()=>{Da(t.i)}})},t.event!==!1?()=>m("div",{class:"q-date__event bg-"+t.event}):null):m("div",""+t.i)]))))])])],Months(){const t=b.value.year===w.value.year,n=h=>J.value!==null&&b.value.year===J.value.year&&J.value.month>h||G.value!==null&&b.value.year===G.value.year&&G.value.month<h,i=H.value.monthsShort.map((h,y)=>{const _=b.value.month===y+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(ee,{class:t===!0&&w.value.month===y+1?"q-date__today":null,flat:_!==!0,label:h,unelevated:_,color:_===!0?ue.value:null,textColor:_===!0?M.value:null,tabindex:s.value,disable:n(y+1),...c("month#"+y,{onClick:()=>{ha(y+1)}})})])});return e.yearsInMonthView===!0&&i.unshift(m("div",{class:"row no-wrap full-width"},[yt({label:b.value.year,type:"Years",key:b.value.year,dir:Q.value,goTo:He,boundaries:je.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},i)},Years(){const t=be.value,n=t+Le,i=[],h=y=>J.value!==null&&J.value.year>y||G.value!==null&&G.value.year<y;for(let y=t;y<=n;y++){const _=b.value.year===y;i.push(m("div",{class:"q-date__years-item flex flex-center"},[m(ee,{key:"yr"+y,class:w.value.year===y?"q-date__today":null,flat:!_,label:y,dense:!0,unelevated:_,color:_===!0?ue.value:null,textColor:_===!0?M.value:null,tabindex:s.value,disable:h(y),...c("yr#"+y,{onClick:()=>{me(y)}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(ee,{round:!0,dense:!0,flat:!0,icon:ne.value[0],tabindex:s.value,disable:h(t),...c("y-",{onClick:()=>{be.value-=Le}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},i),m("div",{class:"col-auto"},[m(ee,{round:!0,dense:!0,flat:!0,icon:ne.value[1],tabindex:s.value,disable:h(n),...c("y+",{onClick:()=>{be.value+=Le}})})])])}};function ba(t){const n={...b.value,day:t};if(e.range===!1){ma(n,ae.value);return}if(Z.value===null){const i=xe.value.find(y=>y.fill!==!0&&y.i===t);if(e.noUnset!==!0&&i.range!==void 0){gt({target:n,from:i.range.from,to:i.range.to});return}if(i.selected===!0){gt(n);return}const h=we(n);Z.value={init:n,initHash:h,final:n,finalHash:h},o("rangeStart",Ie(n))}else{const i=Z.value.initHash,h=we(n),y=i<=h?{from:Z.value.init,to:n}:{from:n,to:Z.value.init};Z.value=null,mt(i===h?n:{target:n,...y}),o("rangeEnd",{from:Ie(y.from),to:Ie(y.to)})}}function Da(t){if(Z.value!==null){const n={...b.value,day:t};Object.assign(Z.value,{final:n,finalHash:we(n)})}}return Object.assign(l,{setToday:q,setView:E,offsetCalendar:j,setCalendarTo:P,setEditingRange:$}),()=>{const t=[m("div",{class:"q-date__content col relative-position"},[m(Oe,{name:"q-transition--fade"},ya[A.value])])],n=ke(a.default);return n!==void 0&&t.push(m("div",{class:"q-date__actions"},n)),e.name!==void 0&&e.disable!==!0&&L(t,"push"),m("div",{class:Re.value,...f.value},[ga(),m("div",{ref:Y,class:"q-date__main col column",tabindex:-1},t)])}}}),fa=Ce({name:"QPopupProxy",props:{...wa,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:o,attrs:l}){const{proxy:u}=_e(),{$q:r}=u,c=V(!1),s=V(null),v=g(()=>parseInt(e.breakpoint,10)),{canShow:x}=Ma({showing:c});function d(){return r.screen.width<v.value||r.screen.height<v.value?"dialog":"menu"}const C=V(d()),T=g(()=>C.value==="menu"?{maxHeight:"99vh"}:{});ve(()=>d(),S=>{c.value!==!0&&(C.value=S)});function L(S){c.value=!0,o("show",S)}function Y(S){c.value=!1,C.value=d(),o("hide",S)}return Object.assign(u,{show(S){x(S)===!0&&s.value.show(S)},hide(S){s.value.hide(S)},toggle(S){s.value.toggle(S)}}),qa(u,"currentComponent",()=>({type:C.value,ref:s.value})),()=>{const S={ref:s,...T.value,...l,onShow:L,onHide:Y};let H;return C.value==="dialog"?H=Ka:(H=Xa,Object.assign(S,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),m(H,S,a.default)}}});let Dn=0;const pn=["click","keydown"],Cn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Dn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function wn(e,a,o,l){const u=ka(Xt,bt);if(u===bt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),bt;const{proxy:r}=_e(),c=V(null),s=V(null),v=V(null),x=g(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),d=g(()=>u.currentModel.value===e.name),C=g(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(d.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(l!==void 0?l.linkClass.value:"")),T=g(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),L=g(()=>e.disable===!0||u.hasFocus.value===!0||d.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function Y(w,b){if(b!==!0&&c.value!==null&&c.value.focus(),e.disable===!0){l!==void 0&&l.hasRouterLink.value===!0&&Ke(w);return}if(l===void 0){u.updateModel({name:e.name}),o("click",w);return}if(l.hasRouterLink.value===!0){const A=(N={})=>{let W;const Q=N.to===void 0||xa(N.to,e.to)===!0?u.avoidRouteWatcher=za():null;return l.navigateToRouterLink(w,{...N,returnRouterError:!0}).catch(te=>{W=te}).then(te=>{if(Q===u.avoidRouteWatcher&&(u.avoidRouteWatcher=!1,W===void 0&&(te===void 0||te.message!==void 0&&te.message.startsWith("Avoided redundant navigation")===!0)&&u.updateModel({name:e.name})),N.returnRouterError===!0)return W!==void 0?Promise.reject(W):te})};o("click",w,A),w.defaultPrevented!==!0&&A();return}o("click",w)}function S(w){ea(w,[13,32])?Y(w,!0):Ta(w)!==!0&&w.keyCode>=35&&w.keyCode<=40&&w.altKey!==!0&&w.metaKey!==!0&&u.onKbdNavigate(w.keyCode,r.$el)===!0&&Ke(w),o("keydown",w)}function H(){const w=u.tabProps.value.narrowIndicator,b=[],A=m("div",{ref:v,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&b.push(m(ge,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&b.push(m("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&b.push(e.alertIcon!==void 0?m(ge,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):m("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),w===!0&&b.push(A);const N=[m("div",{class:"q-focus-helper",tabindex:-1,ref:c}),m("div",{class:T.value},ta(a.default,b))];return w===!1&&N.push(A),N}const se={name:g(()=>e.name),rootRef:s,tabIndicatorRef:v,routeData:l};Jt(()=>{u.unregisterTab(se)}),_a(()=>{u.registerTab(se)});function ye(w,b){const A={ref:s,class:C.value,tabindex:L.value,role:"tab","aria-selected":d.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:Y,onKeydown:S,...b};return Gt(m(w,A,H()),[[Sa,x.value]])}return{renderTab:ye,$tabs:u}}var xt=Ce({name:"QTab",props:Cn,emits:pn,setup(e,{slots:a,emit:o}){const{renderTab:l}=wn(e,a,o);return()=>l("div")}});function Mn(e,a,o){const l=o===!0?["left","right"]:["top","bottom"];return`absolute-${a===!0?l[0]:l[1]}${e?` text-${e}`:""}`}const qn=["left","center","right","justify"];var kn=Ce({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>qn.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:o}){const{proxy:l}=_e(),{$q:u}=l,{registerTick:r}=Dt(),{registerTick:c}=Dt(),{registerTick:s}=Dt(),{registerTimeout:v,removeTimeout:x}=Yt(),{registerTimeout:d,removeTimeout:C}=Yt(),T=V(null),L=V(null),Y=V(e.modelValue),S=V(!1),H=V(!0),se=V(!1),ye=V(!1),w=[],b=V(0),A=V(!1);let N=null,W=null,Q;const te=g(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Mn(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),be=g(()=>{const f=b.value,p=Y.value;for(let q=0;q<f;q++)if(w[q].name.value===p)return!0;return!1}),Z=g(()=>`q-tabs__content--align-${S.value===!0?"left":ye.value===!0?"justify":e.align}`),Re=g(()=>`q-tabs row no-wrap items-center q-tabs--${S.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),ue=g(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Z.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),M=g(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),B=g(()=>e.vertical!==!0&&u.lang.rtl===!0),X=g(()=>Ja===!1&&B.value===!0);ve(B,De),ve(()=>e.modelValue,f=>{U({name:f,setCurrent:!0,skipEmit:!0})}),ve(()=>e.outsideArrows,ce);function U({name:f,setCurrent:p,skipEmit:q}){Y.value!==f&&(q!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",f),(p===!0||e["onUpdate:modelValue"]===void 0)&&(Fe(Y.value,f),Y.value=f))}function ce(){r(()=>{T.value&&Se({width:T.value.offsetWidth,height:T.value.offsetHeight})})}function Se(f){if(M.value===void 0||L.value===null)return;const p=f[M.value.container],q=Math.min(L.value[M.value.scroll],Array.prototype.reduce.call(L.value.children,(j,P)=>j+(P[M.value.content]||0),0)),E=p>0&&q>p;S.value=E,E===!0&&c(De),ye.value=p<parseInt(e.breakpoint,10)}function Fe(f,p){const q=f!=null&&f!==""?w.find(j=>j.name.value===f):null,E=p!=null&&p!==""?w.find(j=>j.name.value===p):null;if(xe===!0)xe=!1;else if(q&&E){const j=q.tabIndicatorRef.value,P=E.tabIndicatorRef.value;N!==null&&(clearTimeout(N),N=null),j.style.transition="none",j.style.transform="none",P.style.transition="none",P.style.transform="none";const $=j.getBoundingClientRect(),K=P.getBoundingClientRect();P.style.transform=e.vertical===!0?`translate3d(0,${$.top-K.top}px,0) scale3d(1,${K.height?$.height/K.height:1},1)`:`translate3d(${$.left-K.left}px,0,0) scale3d(${K.width?$.width/K.width:1},1,1)`,s(()=>{N=setTimeout(()=>{N=null,P.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",P.style.transform="none"},70)})}E&&S.value===!0&&le(E.rootRef.value)}function le(f){const{left:p,width:q,top:E,height:j}=L.value.getBoundingClientRect(),P=f.getBoundingClientRect();let $=e.vertical===!0?P.top-E:P.left-p;if($<0){L.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor($),De();return}$+=e.vertical===!0?P.height-j:P.width-q,$>0&&(L.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil($),De())}function De(){const f=L.value;if(f===null)return;const p=f.getBoundingClientRect(),q=e.vertical===!0?f.scrollTop:Math.abs(f.scrollLeft);B.value===!0?(H.value=Math.ceil(q+p.width)<f.scrollWidth-1,se.value=q>0):(H.value=q>0,se.value=e.vertical===!0?Math.ceil(q+p.height)<f.scrollHeight:Math.ceil(q+p.width)<f.scrollWidth)}function Xe(f){W!==null&&clearInterval(W),W=setInterval(()=>{fe(f)===!0&&ne()},5)}function Je(){Xe(X.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ee(){Xe(X.value===!0?0:Number.MAX_SAFE_INTEGER)}function ne(){W!==null&&(clearInterval(W),W=null)}function Ge(f,p){const q=Array.prototype.filter.call(L.value.children,K=>K===p||K.matches&&K.matches(".q-tab.q-focusable")===!0),E=q.length;if(E===0)return;if(f===36)return le(q[0]),q[0].focus(),!0;if(f===35)return le(q[E-1]),q[E-1].focus(),!0;const j=f===(e.vertical===!0?38:37),P=f===(e.vertical===!0?40:39),$=j===!0?-1:P===!0?1:void 0;if($!==void 0){const K=B.value===!0?-1:1,re=q.indexOf(p)+$*K;return re>=0&&re<E&&(le(q[re]),q[re].focus({preventScroll:!0})),!0}}const ht=g(()=>X.value===!0?{get:f=>Math.abs(f.scrollLeft),set:(f,p)=>{f.scrollLeft=-p}}:e.vertical===!0?{get:f=>f.scrollTop,set:(f,p)=>{f.scrollTop=p}}:{get:f=>f.scrollLeft,set:(f,p)=>{f.scrollLeft=p}});function fe(f){const p=L.value,{get:q,set:E}=ht.value;let j=!1,P=q(p);const $=f<P?-1:1;return P+=$*5,P<0?(j=!0,P=0):($===-1&&P<=f||$===1&&P>=f)&&(j=!0,P=f),E(p,P),De(),j}function et(f,p){for(const q in f)if(f[q]!==p[q])return!1;return!0}function J(){let f=null,p={matchedLen:0,queryDiff:9999,hrefLen:0};const q=w.filter($=>$.routeData!==void 0&&$.routeData.hasRouterLink.value===!0),{hash:E,query:j}=l.$route,P=Object.keys(j).length;for(const $ of q){const K=$.routeData.exact.value===!0;if($.routeData[K===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:re,query:Ye,matched:rt,href:ot}=$.routeData.resolvedLink.value,He=Object.keys(Ye).length;if(K===!0){if(re!==E||He!==P||et(j,Ye)===!1)continue;f=$.name.value;break}if(re!==""&&re!==E||He!==0&&et(Ye,j)===!1)continue;const me={matchedLen:rt.length,queryDiff:P-He,hrefLen:ot.length-re.length};if(me.matchedLen>p.matchedLen){f=$.name.value,p=me;continue}else if(me.matchedLen!==p.matchedLen)continue;if(me.queryDiff<p.queryDiff)f=$.name.value,p=me;else if(me.queryDiff!==p.queryDiff)continue;me.hrefLen>p.hrefLen&&(f=$.name.value,p=me)}if(f===null&&w.some($=>$.routeData===void 0&&$.name.value===Y.value)===!0){xe=!1;return}U({name:f,setCurrent:!0})}function G(f){if(x(),A.value!==!0&&T.value!==null&&f.target&&typeof f.target.closest=="function"){const p=f.target.closest(".q-tab");p&&T.value.contains(p)===!0&&(A.value=!0,S.value===!0&&le(p))}}function je(){v(()=>{A.value=!1},30)}function he(){tt.avoidRouteWatcher===!1?d(J):C()}function Ne(){if(Q===void 0){const f=ve(()=>l.$route.fullPath,he);Q=()=>{f(),Q=void 0}}}function Te(f){w.push(f),b.value++,ce(),f.routeData===void 0||l.$route===void 0?d(()=>{if(S.value===!0){const p=Y.value,q=p!=null&&p!==""?w.find(E=>E.name.value===p):null;q&&le(q.rootRef.value)}}):(Ne(),f.routeData.hasRouterLink.value===!0&&he())}function ae(f){w.splice(w.indexOf(f),1),b.value--,ce(),Q!==void 0&&f.routeData!==void 0&&(w.every(p=>p.routeData===void 0)===!0&&Q(),he())}const tt={currentModel:Y,tabProps:te,hasFocus:A,hasActiveTab:be,registerTab:Te,unregisterTab:ae,verifyRouteModel:he,updateModel:U,onKbdNavigate:Ge,avoidRouteWatcher:!1};Ha(Xt,tt);function at(){N!==null&&clearTimeout(N),ne(),Q!==void 0&&Q()}let nt,xe;return Jt(at),Ia(()=>{nt=Q!==void 0,at()}),La(()=>{nt===!0&&(Ne(),xe=!0,he()),ce()}),()=>m("div",{ref:T,class:Re.value,role:"tablist",onFocusin:G,onFocusout:je},[m(Ya,{onResize:Se}),m("div",{ref:L,class:ue.value,onScroll:De},ke(a.default)),m(ge,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(H.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Je,onTouchstartPassive:Je,onMouseupPassive:ne,onMouseleavePassive:ne,onTouchendPassive:ne}),m(ge,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(se.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Ee,onTouchstartPassive:Ee,onMouseupPassive:ne,onMouseleavePassive:ne,onTouchendPassive:ne})])}});const _n={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Ht={xs:2,sm:4,md:8,lg:16,xl:24};var Sn=Ce({name:"QSeparator",props:{...vt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const a=_e(),o=ft(e,a.proxy.$q),l=g(()=>e.vertical===!0?"vertical":"horizontal"),u=g(()=>` q-separator--${l.value}`),r=g(()=>e.inset!==!1?`${u.value}-${_n[e.inset]}`:""),c=g(()=>`q-separator${u.value}${r.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(o.value===!0?" q-separator--dark":"")),s=g(()=>{const v={};if(e.size!==void 0&&(v[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const x=e.spaced===!0?`${Ht.md}px`:e.spaced in Ht?`${Ht[e.spaced]}px`:e.spaced,d=e.vertical===!0?["Left","Right"]:["Top","Bottom"];v[`margin${d[0]}`]=v[`margin${d[1]}`]=x}return v});return()=>m("hr",{class:c.value,style:s.value,"aria-orientation":l.value})}});function Tn(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,l)=>{const u=parseFloat(o);u&&(a[l]=u)}),a}var xn=aa({name:"touch-swipe",beforeMount(e,{value:a,arg:o,modifiers:l}){if(l.mouse!==!0&&Ue.has.touch!==!0)return;const u=l.mouseCapture===!0?"Capture":"",r={handler:a,sensitivity:Tn(o),direction:Ft(l),noop:$a,mouseStart(c){Et(c,r)&&Pa(c)&&(it(r,"temp",[[document,"mousemove","move",`notPassive${u}`],[document,"mouseup","end","notPassiveCapture"]]),r.start(c,!0))},touchStart(c){if(Et(c,r)){const s=c.target;it(r,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),r.start(c)}},start(c,s){Ue.is.firefox===!0&&pt(e,!0);const v=Rt(c);r.event={x:v.left,y:v.top,time:Date.now(),mouse:s===!0,dir:!1}},move(c){if(r.event===void 0)return;if(r.event.dir!==!1){Ke(c);return}const s=Date.now()-r.event.time;if(s===0)return;const v=Rt(c),x=v.left-r.event.x,d=Math.abs(x),C=v.top-r.event.y,T=Math.abs(C);if(r.event.mouse!==!0){if(d<r.sensitivity[1]&&T<r.sensitivity[1]){r.end(c);return}}else if(window.getSelection().toString()!==""){r.end(c);return}else if(d<r.sensitivity[2]&&T<r.sensitivity[2])return;const L=d/s,Y=T/s;r.direction.vertical===!0&&d<T&&d<100&&Y>r.sensitivity[0]&&(r.event.dir=C<0?"up":"down"),r.direction.horizontal===!0&&d>T&&T<100&&L>r.sensitivity[0]&&(r.event.dir=x<0?"left":"right"),r.direction.up===!0&&d<T&&C<0&&d<100&&Y>r.sensitivity[0]&&(r.event.dir="up"),r.direction.down===!0&&d<T&&C>0&&d<100&&Y>r.sensitivity[0]&&(r.event.dir="down"),r.direction.left===!0&&d>T&&x<0&&T<100&&L>r.sensitivity[0]&&(r.event.dir="left"),r.direction.right===!0&&d>T&&x>0&&T<100&&L>r.sensitivity[0]&&(r.event.dir="right"),r.event.dir!==!1?(Ke(c),r.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Aa(),r.styleCleanup=S=>{r.styleCleanup=void 0,document.body.classList.remove("non-selectable");const H=()=>{document.body.classList.remove("no-pointer-events--children")};S===!0?setTimeout(H,50):H()}),r.handler({evt:c,touch:r.event.mouse!==!0,mouse:r.event.mouse,direction:r.event.dir,duration:s,distance:{x:d,y:T}})):r.end(c)},end(c){r.event!==void 0&&(Ct(r,"temp"),Ue.is.firefox===!0&&pt(e,!1),r.styleCleanup!==void 0&&r.styleCleanup(!0),c!==void 0&&r.event.dir!==!1&&Ke(c),r.event=void 0)}};if(e.__qtouchswipe=r,l.mouse===!0){const c=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";it(r,"main",[[e,"mousedown","mouseStart",`passive${c}`]])}Ue.has.touch===!0&&it(r,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const o=e.__qtouchswipe;o!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&o.end(),o.handler=a.value),o.direction=Ft(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(Ct(a,"main"),Ct(a,"temp"),Ue.is.firefox===!0&&pt(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});const Hn={name:{required:!0},disable:Boolean},Wt={setup(e,{slots:a}){return()=>m("div",{class:"q-panel scroll",role:"tabpanel"},ke(a.default))}},In={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ln=["update:modelValue","beforeTransition","transition"];function Yn(){const{props:e,emit:a,proxy:o}=_e(),{getCache:l}=la(),{registerTimeout:u}=Yt();let r,c;const s=V(null),v={value:null};function x(M){const B=e.vertical===!0?"up":"left";Q((o.$q.lang.rtl===!0?-1:1)*(M.direction===B?1:-1))}const d=g(()=>[[xn,x,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),C=g(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),T=g(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),L=g(()=>`--q-transition-duration: ${e.transitionDuration}ms`),Y=g(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),S=g(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),H=g(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ve(()=>e.modelValue,(M,B)=>{const X=b(M)===!0?A(M):-1;c!==!0&&W(X===-1?0:X<A(B)?-1:1),v.value!==X&&(v.value=X,a("beforeTransition",M,B),u(()=>{a("transition",M,B)},e.transitionDuration))});function se(){Q(1)}function ye(){Q(-1)}function w(M){a("update:modelValue",M)}function b(M){return M!=null&&M!==""}function A(M){return r.findIndex(B=>B.props.name===M&&B.props.disable!==""&&B.props.disable!==!0)}function N(){return r.filter(M=>M.props.disable!==""&&M.props.disable!==!0)}function W(M){const B=M!==0&&e.animated===!0&&v.value!==-1?"q-transition--"+(M===-1?C.value:T.value):null;s.value!==B&&(s.value=B)}function Q(M,B=v.value){let X=B+M;for(;X!==-1&&X<r.length;){const U=r[X];if(U!==void 0&&U.props.disable!==""&&U.props.disable!==!0){W(M),c=!0,a("update:modelValue",U.props.name),setTimeout(()=>{c=!1});return}X+=M}e.infinite===!0&&r.length!==0&&B!==-1&&B!==r.length&&Q(M,M===-1?r.length:-1)}function te(){const M=A(e.modelValue);return v.value!==M&&(v.value=M),!0}function be(){const M=b(e.modelValue)===!0&&te()&&r[v.value];return e.keepAlive===!0?[m(Oa,S.value,[m(H.value===!0?l(Y.value,()=>({...Wt,name:Y.value})):Wt,{key:Y.value,style:L.value},()=>M)])]:[m("div",{class:"q-panel scroll",style:L.value,key:Y.value,role:"tabpanel"},[M])]}function Z(){if(r.length!==0)return e.animated===!0?[m(Oe,{name:s.value},be)]:be()}function Re(M){return r=Ba(ke(M.default,[])).filter(B=>B.props!==null&&B.props.slot===void 0&&b(B.props.name)===!0),r.length}function ue(){return r}return Object.assign(o,{next:se,previous:ye,goTo:w}),{panelIndex:v,panelDirectives:d,updatePanelsList:Re,updatePanelIndex:te,getPanelContent:Z,getEnabledPanels:N,getPanels:ue,isValidPanelName:b,keepAliveProps:S,needsUniqueKeepAliveWrapper:H,goToPanelByOffset:Q,goToPanel:w,nextPanel:se,previousPanel:ye}}var It=Ce({name:"QTabPanel",props:Hn,setup(e,{slots:a}){return()=>m("div",{class:"q-tab-panel",role:"tabpanel"},ke(a.default))}}),$n=Ce({name:"QTabPanels",props:{...In,...vt},emits:Ln,setup(e,{slots:a}){const o=_e(),l=ft(e,o.proxy.$q),{updatePanelsList:u,getPanelContent:r,panelDirectives:c}=Yn(),s=g(()=>"q-tab-panels q-panel-parent"+(l.value===!0?" q-tab-panels--dark q-dark":""));return()=>(u(a),Va("div",{class:s.value},r(),"pan",e.swipeable,()=>c.value))}});function Zt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const a=parseInt(e,10);return isNaN(a)?0:a}var Pn=aa({name:"close-popup",beforeMount(e,{value:a}){const o={depth:Zt(a),handler(l){o.depth!==0&&setTimeout(()=>{const u=Ra(e);u!==void 0&&Fa(u,l,o.depth)})},handlerKey(l){ea(l,13)===!0&&o.handler(l)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:a,oldValue:o}){a!==o&&(e.__qclosepopup.depth=Zt(a))},beforeUnmount(e){const a=e.__qclosepopup;e.removeEventListener("click",a.handler),e.removeEventListener("keyup",a.handlerKey),delete e.__qclosepopup}});const An=["top","middle","bottom"];var Lt=Ce({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>An.includes(e)}},setup(e,{slots:a}){const o=g(()=>e.align!==void 0?{verticalAlign:e.align}:null),l=g(()=>{const u=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(u!==void 0?` text-${u}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>m("div",{class:l.value,style:o.value,role:"status","aria-label":e.label},ta(a.default,e.label!==void 0?[e.label]:[]))}}),Bn=Ce({name:"QBanner",props:{...vt,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:a}){const{proxy:{$q:o}}=_e(),l=ft(e,o),u=g(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(l.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),r=g(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const c=[m("div",{class:"q-banner__avatar col-auto row items-center self-start"},ke(a.avatar)),m("div",{class:"q-banner__content col text-body2"},ke(a.default))],s=ke(a.action);return s!==void 0&&c.push(m("div",{class:r.value},s)),m("div",{class:u.value+(e.inlineActions===!1&&s!==void 0?" q-banner--top-padding":""),role:"alert"},c)}}});const On=na({name:"HabitListItem",data(){return{localCounter:0,localCounterPreviousDay:0,localInitialCount:0,currentUnit:""}},computed:{realStreak(){let e=0;return this.localCounter>=this.habit.goal?e=this.habit.streak:e=this.habit.streak-1,e},isCurrentDate(){const e=new Date().toDateString(),a=new Date(this.currentDate).toDateString();return e===a}},isHabitPending(){let e=!1;return localCounter<this.habit.goal&&(e=!0),e},props:["habit","units","currentDate"],watch:{counter(e){this.localCounter=e},habit:{handler(e){e.habitdates.sort((a,o)=>new Date(o.date)-new Date(a.date)),this.currentUnit=this.units.find(a=>a.id==e.unitid),this.localCounter=this.getUnitsDoneCount(e.habitdates[0]),e.habitdates.length>1&&(this.localCounterPreviousDay=this.getUnitsDoneCount(e.habitdates[1])),this.localInitialCount=this.localCounter},immediate:!0,deep:!0}},methods:{getUnitsDoneCount(e){return console.log(e.unitsdone),e.unitsdone},addCount(){this.localCounter++},removeCount(){this.localCounter>0&&this.localCounter--},onItemClick(){this.$emit("item-clicked",this.habit.id)},updateParent(){this.$emit("update-counter",{initialCount:this.localInitialCount,count:this.localCounter,habitDateId:this.habit.id,date:this.currentDate}),this.$refs.popupCounter.hide()}}}),Vn={key:0,class:"q-pa-md q-gutter-md"},Rn={key:1,class:"q-pa-md q-gutter-md"},Fn={key:2,class:"q-pa-md q-gutter-md",style:{visibility:"hidden"}},En={class:"row items-center q-gutter-x-sm q-pt-md"},jn={class:"text-caption q-px-sm"},Nn={class:"text-h6"};function Qn(e,a,o,l,u,r){return de(),We(Za,{clickable:"",onClick:e.onItemClick},{default:z(()=>[I(qt,{side:"",top:""},{default:z(()=>[e.realStreak>0&&e.isCurrentDate?(de(),Ve("div",Vn,[I(Lt,{color:"blue"},{default:z(()=>[I(ge,{name:"trending_up",color:"white",class:"q-ml-xs q-mr-xs"}),ct(" "+Ze(e.realStreak),1)]),_:1})])):e.localCounterPreviousDay>=e.habit.goal&&e.isCurrentDate?(de(),Ve("div",Rn,[I(Lt,{color:"grey"},{default:z(()=>[I(ge,{name:"pending",color:"white",class:"q-ml-xs q-mr-xs"})]),_:1})])):(de(),Ve("div",Fn,[I(Lt,{color:"blue"},{default:z(()=>[I(ge,{name:"trending_up",color:"white",class:"q-ml-xs q-mr-xs"}),a[2]||(a[2]=ct(" 0 "))]),_:1})]))]),_:1}),I(qt,null,{default:z(()=>[ie("div",null,Ze(e.habit.name),1),ie("div",null,Ze(e.localCounter+" / "+e.habit.goal),1)]),_:1}),I(qt,{side:""},{default:z(()=>[I(ge,{size:"lg",name:"add_circle",color:"primary",onClick:a[1]||(a[1]=Ea(()=>{},["stop"]))},{default:z(()=>[I(fa,{ref:"popupCounter"},{default:z(()=>[I(Bn,null,{default:z(()=>[I(ge,{name:"trending_up",color:"primary",size:"lg",class:"q-mr-md"}),a[3]||(a[3]=ct(" Update the current habit count. ")),ie("div",En,[I(ee,{flat:"",dense:"",round:"",size:"lg",onClick:e.removeCount,icon:"remove_circle_outline"},null,8,["onClick"]),I(Wa,{modelValue:e.localCounter,"onUpdate:modelValue":a[0]||(a[0]=c=>e.localCounter=c),class:"col","input-class":"text-center"},null,8,["modelValue"]),ie("div",jn,[ie("span",Nn,Ze(e.currentUnit.shortname),1)]),I(ee,{flat:"",dense:"",round:"",size:"lg",icon:"add_circle_outline",onClick:e.addCount},null,8,["onClick"])]),I(ee,{label:"OK",onClick:e.updateParent,color:"primary",class:"full-width q-mt-md"},null,8,["onClick"])]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1},8,["onClick"])}var Un=ra(On,[["render",Qn]]);Ga();const ze=oa(),zn=na({name:"HabitHomeComponent",components:{HabitListItem:Un},computed:{formattedHabitsDate:{get(){return this.habitsDate.toISOString().split("T")[0]},set(e){this.habitsDate=new Date(e)}}},data(){return{habitsDate:new Date,habitList:[],unitList:[],dailyHabitList:[],weeklyHabitList:[],monthlyHabitList:[],frequencyTypeList:[],dailyFrequencyTypeId:null,weeklyFrequencyTypeId:null,monthlyFrequencyTypeId:null,generalStore:oa(),tab:V("daily")}},methods:{updateHabitsDate(e){this.habitsDate=new Date(e),this.loadHabits()},goDateForward(){this.habitsDate=new Date(this.habitsDate.setDate(this.habitsDate.getDate()+1)),this.loadHabits()},goDateBack(){this.habitsDate=new Date(this.habitsDate.setDate(this.habitsDate.getDate()-1)),this.loadHabits()},isToday(e){const a=new Date;return e.getDate()===a.getDate()&&e.getMonth()===a.getMonth()&&e.getFullYear()===a.getFullYear()},async handleHabitUpdateCounter(e){try{const a=await st.updateHabitCount(e);this.loadHabits()}catch(a){console.log("Error: ",a),this.$q.notify({color:"negative",textColor:"white",icon:"report_problem",message:"Error updating habit",position:"top",multiLine:!0,timeout:4e3})}},handleHabitClick(e){this.$router.push("/get-habit/"+e)},goToNew(){this.$router.push("/create-habit")},async loadData(){try{ze.setLoading(!0);const e=await st.getUnits();this.unitList=e.data;const a=await st.getFrequencyTypes();this.frequencyTypeList=a.data,this.dailyFrequencyTypeId=this.frequencyTypeList.filter(o=>o.name=="Daily")[0].id,this.weeklyFrequencyTypeId=this.frequencyTypeList.filter(o=>o.name=="Weekly")[0].id,this.monthlyFrequencyTypeId=this.frequencyTypeList.filter(o=>o.name=="Monthly")[0].id,this.loadHabits(!0)}catch(e){console.log(e),this.error=e.response.data.error}finally{ze.setLoading(!1)}},async loadHabits(e=!1){try{e||ze.setLoading(!0),console.log("Loading habits for date: ",this.habitsDate);const a=await st.getDateHabits(new Date(this.habitsDate));this.habitList=a.data,this.dailyHabitList=this.habitList.filter(o=>o.frequencytypeid==this.dailyFrequencyTypeId),this.dailyHabitList.sort((o,l)=>o.name.localeCompare(l.name)),this.weeklyHabitList=this.habitList.filter(o=>o.frequencytypeid==this.weeklyFrequencyTypeId),this.weeklyHabitList.sort((o,l)=>o.name.localeCompare(l.name)),this.monthlyHabitList=this.habitList.filter(o=>o.frequencytypeid==this.monthlyFrequencyTypeId),this.monthlyHabitList.sort((o,l)=>o.name.localeCompare(l.name))}catch(a){console.log(a),this.error=a.response.data.error}finally{e||ze.setLoading(!1)}}},mounted(){ze.habitDatesFetched&&this.loadData()},beforeRouteEnter(e,a,o){o(l=>{l.generalStore.habitDatesFetched&&l.loadData()})},watch:{"generalStore.habitDatesFetched":{handler(e){console.log(e),e&&this.loadData()}}}}),Wn={style:{display:"flex","justify-content":"flex-end",padding:"16px"}},Zn={class:"row items-center justify-between q-my-md q-gutter-xs"},Kn={class:"text-h6 text-center col-grow date-text"},Xn={class:"row items-center justify-end q-gutter-sm q-pa-sm"};function Jn(e,a,o,l,u,r){const c=ja("HabitListItem");return de(),We(tn,{padding:""},{default:z(()=>[ie("div",Wn,[I(ee,{onClick:e.goToNew,icon:"add_circle_outline",label:"New Habit"},null,8,["onClick"])]),I(en,{class:"q-ma-md self-center",style:{"text-align":"center"}},{default:z(()=>[ie("div",Zn,[I(ee,{flat:"",round:"",icon:"arrow_back",onClick:e.goDateBack,class:"col-shrink"},null,8,["onClick"]),ie("div",Kn,[ct(Ze(this.habitsDate.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}))+" ",1),I(ge,{name:"event",size:"md",class:"cursor-pointer"},{default:z(()=>[I(fa,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:z(()=>[I(bn,{modelValue:e.formattedHabitsDate,"onUpdate:modelValue":[a[0]||(a[0]=s=>e.formattedHabitsDate=s),e.updateHabitsDate],mask:"YYYY-MM-DD","today-btn":"",options:s=>new Date(s)<=new Date},{default:z(()=>[ie("div",Xn,[Gt(I(ee,{label:"Select",color:"primary"},null,512),[[Pn]])])]),_:1},8,["modelValue","options","onUpdate:modelValue"])]),_:1})]),_:1})]),I(ee,{disable:e.isToday(e.habitsDate),flat:"",round:"",icon:"arrow_forward",onClick:e.goDateForward,class:"col-shrink"},null,8,["disable","onClick"])]),I(kn,{modelValue:e.tab,"onUpdate:modelValue":a[1]||(a[1]=s=>e.tab=s),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:z(()=>[I(xt,{name:"daily",label:"DAILY"}),I(xt,{name:"weekly",label:"WEEKLY"}),I(xt,{name:"monthly",label:"MONTHLY"})]),_:1},8,["modelValue"]),I(Sn),I($n,{modelValue:e.tab,"onUpdate:modelValue":a[2]||(a[2]=s=>e.tab=s),animated:""},{default:z(()=>[I(It,{name:"daily"},{default:z(()=>[a[3]||(a[3]=ie("div",{class:"text-h6"},"Daily Habits",-1)),(de(!0),Ve(Mt,null,wt(e.dailyHabitList,s=>(de(),We(c,{key:s.id,habit:s,units:e.unitList,currentDate:e.habitsDate,onItemClicked:e.handleHabitClick,onUpdateCounter:e.handleHabitUpdateCounter},null,8,["habit","units","currentDate","onItemClicked","onUpdateCounter"]))),128))]),_:1}),I(It,{name:"weekly"},{default:z(()=>[a[4]||(a[4]=ie("div",{class:"text-h6"},"Weekly Habits",-1)),(de(!0),Ve(Mt,null,wt(e.weeklyHabitList,s=>(de(),We(c,{key:s.id,habit:s,units:e.unitList,currentDate:e.habitsDate,onItemClicked:e.handleHabitClick,onUpdateCounter:e.handleHabitUpdateCounter},null,8,["habit","units","currentDate","onItemClicked","onUpdateCounter"]))),128))]),_:1}),I(It,{name:"monthly"},{default:z(()=>[a[5]||(a[5]=ie("div",{class:"text-h6"},"Monthly Habits",-1)),(de(!0),Ve(Mt,null,wt(e.monthlyHabitList,s=>(de(),We(c,{key:s.id,habit:s,units:e.unitList,currentDate:e.habitsDate,onItemClicked:e.handleHabitClick,onUpdateCounter:e.handleHabitUpdateCounter},null,8,["habit","units","currentDate","onItemClicked","onUpdateCounter"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}var lr=ra(zn,[["render",Jn],["__scopeId","data-v-af5c7758"]]);export{lr as default};
