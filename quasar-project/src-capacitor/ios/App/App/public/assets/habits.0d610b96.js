import{m as de,ab as De,a as ae,B as fe,aI as me,C as ve,r as H,d as i,D as ge,aA as he,aJ as be,aK as ye,E as ke,w as X,ak as xe,o as qe,h as y,ap as oe,e as ie,j as le,aL as we,av as _e,aM as se,aN as He,aO as Le,aP as Re,aw as Me,aQ as ue,aR as Ae,aS as re,x as Ke,aT as ze,aU as $e,aV as Qe,z as je,aW as Ie,aX as We}from"./index.292b926d.js";import{u as Ve,a as Ue}from"./QItem.ca64e6d9.js";import{u as Se,a as Be}from"./use-dark.877cff56.js";const S=[];let P;function Je(e){P=e.keyCode===27}function Ne(){P===!0&&(P=!1)}function Xe(e){P===!0&&(P=!1,De(e,27)===!0&&S[S.length-1](e))}function Ce(e){window[e]("keydown",Je),window[e]("blur",Ne),window[e]("keyup",Xe),P=!1}function Ee(e){de.is.desktop===!0&&(S.push(e),S.length===1&&Ce("addEventListener"))}function p(e){const a=S.indexOf(e);a!==-1&&(S.splice(a,1),S.length===0&&Ce("removeEventListener"))}const B=[];function Te(e){B[B.length-1](e)}function Pe(e){de.is.desktop===!0&&(B.push(e),B.length===1&&document.body.addEventListener("focusin",Te))}function ne(e){const a=B.indexOf(e);a!==-1&&(B.splice(a,1),B.length===0&&document.body.removeEventListener("focusin",Te))}let N=0;const pe={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ce={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var tt=ae({name:"QDialog",inheritAttrs:!1,props:{...fe,...me,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...ve,"shake","click","escapeKey"],setup(e,{slots:a,emit:l,attrs:h}){const s=le(),u=H(null),r=H(!1),v=H(!1);let m=null,d=null,c,f;const g=i(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:L}=Ue(),{registerTimeout:R}=ge(),{registerTick:G,removeTick:M}=he(),{transitionProps:A,transitionStyle:K}=be(e,()=>ce[e.position][0],()=>ce[e.position][1]),Y=i(()=>K.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:O,hidePortal:z,portalIsAccessible:Z,renderPortal:k}=ye(s,u,J,"dialog"),{hide:C}=ke({showing:r,hideOnRouteChange:g,handleShow:ee,handleHide:te,processOnMount:!0}),{addToHistory:$,removeFromHistory:Q}=Ve(r,C,g),j=i(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${pe[e.position]}`+(v.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),E=i(()=>r.value===!0&&e.seamless!==!0),F=i(()=>e.autoClose===!0?{onClick:V}:{}),I=i(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${E.value===!0?"modal":"seamless"}`,h.class]);X(()=>e.maximized,o=>{r.value===!0&&D(o)}),X(E,o=>{L(o),o===!0?(Pe(_),Ee(q)):(ne(_),p(q))});function ee(o){$(),d=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,D(e.maximized),O(),v.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),G(x)):M(),R(()=>{if(s.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:n,bottom:b}=document.activeElement.getBoundingClientRect(),{innerHeight:t}=window,w=window.visualViewport!==void 0?window.visualViewport.height:t;n>0&&b>w/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-w,b>=t?1/0:Math.ceil(document.scrollingElement.scrollTop+b-w/2))),document.activeElement.scrollIntoView()}f=!0,u.value.click(),f=!1}O(!0),v.value=!1,l("show",o)},e.transitionDuration)}function te(o){M(),Q(),W(!0),v.value=!0,z(),d!==null&&(((o&&o.type.indexOf("key")===0?d.closest('[tabindex]:not([tabindex^="-"])'):void 0)||d).focus(),d=null),R(()=>{z(!0),v.value=!1,l("hide",o)},e.transitionDuration)}function x(o){xe(()=>{let n=u.value;if(n!==null){if(o!==void 0){const b=n.querySelector(o);if(b!==null){b.focus({preventScroll:!0});return}}n.contains(document.activeElement)!==!0&&(n=n.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.querySelector("[autofocus], [data-autofocus]")||n,n.focus({preventScroll:!0}))}})}function T(o){o&&typeof o.focus=="function"?o.focus({preventScroll:!0}):x(),l("shake");const n=u.value;n!==null&&(n.classList.remove("q-animate--scale"),n.classList.add("q-animate--scale"),m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,u.value!==null&&(n.classList.remove("q-animate--scale"),x())},170))}function q(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&T():(l("escapeKey"),C()))}function W(o){m!==null&&(clearTimeout(m),m=null),(o===!0||r.value===!0)&&(D(!1),e.seamless!==!0&&(L(!1),ne(_),p(q))),o!==!0&&(d=null)}function D(o){o===!0?c!==!0&&(N<1&&document.body.classList.add("q-body--dialog"),N++,c=!0):c===!0&&(N<2&&document.body.classList.remove("q-body--dialog"),N--,c=!1)}function V(o){f!==!0&&(C(o),l("click",o))}function U(o){e.persistent!==!0&&e.noBackdropDismiss!==!0?C(o):e.noShake!==!0&&T()}function _(o){e.allowFocusOutside!==!0&&Z.value===!0&&we(u.value,o.target)!==!0&&x('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:x,shake:T,__updateRefocusTarget(o){d=o||null}}),qe(W);function J(){return y("div",{role:"dialog","aria-modal":E.value===!0?"true":"false",...h,class:I.value},[y(oe,{name:"q-transition--fade",appear:!0},()=>E.value===!0?y("div",{class:"q-dialog__backdrop fixed-full",style:Y.value,"aria-hidden":"true",tabindex:-1,onClick:U}):null),y(oe,A.value,()=>r.value===!0?y("div",{ref:u,class:j.value,style:K.value,tabindex:-1,...F.value},ie(a.default)):null)])}return k}}),ot=ae({name:"QMenu",inheritAttrs:!1,props:{..._e,...fe,...Se,...me,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:se},self:{type:String,validator:se},offset:{type:Array,validator:He},scrollTarget:Le,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ve,"click","escapeKey"],setup(e,{slots:a,emit:l,attrs:h}){let s=null,u,r,v;const m=le(),{proxy:d}=m,{$q:c}=d,f=H(null),g=H(!1),L=i(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),R=Be(e,c),{registerTick:G,removeTick:M}=he(),{registerTimeout:A}=ge(),{transitionProps:K,transitionStyle:Y}=be(e),{localScrollTarget:O,changeScrollEvent:z,unconfigureScrollTarget:Z}=Re(e,U),{anchorEl:k,canShow:C}=Me({showing:g}),{hide:$}=ke({showing:g,canShow:C,handleShow:W,handleHide:D,hideOnRouteChange:L,processOnMount:!0}),{showPortal:Q,hidePortal:j,renderPortal:E}=ye(m,f,b,"menu"),F={anchorEl:k,innerRef:f,onClickOutside(t){if(e.persistent!==!0&&g.value===!0)return $(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&je(t),!0}},I=i(()=>ue(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),ee=i(()=>e.cover===!0?I.value:ue(e.self||"top start",c.lang.rtl)),te=i(()=>(e.square===!0?" q-menu--square":"")+(R.value===!0?" q-menu--dark q-dark":"")),x=i(()=>e.autoClose===!0?{onClick:_}:{}),T=i(()=>g.value===!0&&e.persistent!==!0);X(T,t=>{t===!0?(Ee(o),Ae(F)):(p(o),re(F))});function q(){xe(()=>{let t=f.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function W(t){if(s=e.noRefocus===!1?document.activeElement:null,Pe(J),Q(),U(),u=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const w=Ke(t);if(w.left!==void 0){const{top:Oe,left:Fe}=k.value.getBoundingClientRect();u={left:w.left-Fe,top:w.top-Oe}}}r===void 0&&(r=X(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,n)),e.noFocus!==!0&&document.activeElement.blur(),G(()=>{n(),e.noFocus!==!0&&q()}),A(()=>{c.platform.is.ios===!0&&(v=e.autoClose,f.value.click()),n(),Q(!0),l("show",t)},e.transitionDuration)}function D(t){M(),j(),V(!0),s!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t&&t.type.indexOf("key")===0?s.closest('[tabindex]:not([tabindex^="-"])'):void 0)||s).focus(),s=null),A(()=>{j(!0),l("hide",t)},e.transitionDuration)}function V(t){u=void 0,r!==void 0&&(r(),r=void 0),(t===!0||g.value===!0)&&(ne(J),Z(),re(F),p(o)),t!==!0&&(s=null)}function U(){(k.value!==null||e.scrollTarget!==void 0)&&(O.value=ze(k.value,e.scrollTarget),z(O.value,n))}function _(t){v!==!0?($e(d,t),l("click",t)):v=!1}function J(t){T.value===!0&&e.noFocus!==!0&&we(f.value,t.target)!==!0&&q()}function o(t){l("escapeKey"),$(t)}function n(){Qe({targetEl:f.value,offset:e.offset,anchorEl:k.value,anchorOrigin:I.value,selfOrigin:ee.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function b(){return y(oe,K.value,()=>g.value===!0?y("div",{role:"menu",...h,ref:f,tabindex:-1,class:["q-menu q-position-engine scroll"+te.value,h.class],style:[h.style,Y.value],...x.value},ie(a.default)):null)}return qe(V),Object.assign(d,{focus:q,updatePosition:n}),E}});let Ge=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const a=document.createElement("div");Object.assign(a.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(a),e.scrollLeft=-1e3,Ge=e.scrollLeft>=0,e.remove()}var nt=ae({name:"QCard",props:{...Se,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:a}){const{proxy:{$q:l}}=le(),h=Be(e,l),s=i(()=>"q-card"+(h.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>y(e.tag,{class:s.value},ie(a.default))}});const at=Ie("habits",{state:()=>({habitList:We.getItem("habitList")||[]}),getters:{habits:e=>e.habitList},actions:{saveHabit(e){}}});export{tt as Q,ot as a,nt as b,Ge as r,at as u};
